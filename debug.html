<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - ZMagic12</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
            background: #f5f5f5;
        }
        .debug-info {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            padding: 0.5rem;
            border-radius: 4px;
            margin: 0.5rem 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>üîç Debug ZMagic12</h1>
    
    <div class="debug-info">
        <h2>Informa√ß√µes da P√°gina</h2>
        <div class="status info">
            <strong>URL Actual:</strong> <span id="current-url"></span>
        </div>
        <div class="status info">
            <strong>Protocolo:</strong> <span id="protocol"></span>
        </div>
        <div class="status info">
            <strong>Host:</strong> <span id="host"></span>
        </div>
    </div>

    <div class="debug-info">
        <h2>Teste de Ficheiros</h2>
        <div id="file-tests"></div>
    </div>

    <div class="debug-info">
        <h2>Logs do Sistema</h2>
        <div id="logs"></div>
    </div>

    <div class="debug-info">
        <a href="/" style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px;">
            üè† Voltar ao In√≠cio
        </a>
    </div>

    <script>
        // Informa√ß√µes da p√°gina
        document.getElementById('current-url').textContent = window.location.href;
        document.getElementById('protocol').textContent = window.location.protocol;
        document.getElementById('host').textContent = window.location.host;

        // Teste de ficheiros
        const filesToTest = [
            '/index.html',
            '/public/main/css/main.css',
            '/public/main/js/main.js',
            '/public/main/js/i18n.js'
        ];

        const fileTestsDiv = document.getElementById('file-tests');
        const logsDiv = document.getElementById('logs');

        function addLog(message, type = 'info') {
            const logDiv = document.createElement('div');
            logDiv.className = `status ${type}`;
            logDiv.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            logsDiv.appendChild(logDiv);
        }

        function testFile(url) {
            return fetch(url)
                .then(response => {
                    const statusDiv = document.createElement('div');
                    if (response.ok) {
                        statusDiv.className = 'status success';
                        statusDiv.innerHTML = `‚úÖ <strong>${url}</strong> - OK (${response.status})`;
                        addLog(`Ficheiro ${url} carregado com sucesso`, 'success');
                    } else {
                        statusDiv.className = 'status error';
                        statusDiv.innerHTML = `‚ùå <strong>${url}</strong> - ERRO (${response.status})`;
                        addLog(`Erro ao carregar ${url}: ${response.status}`, 'error');
                    }
                    fileTestsDiv.appendChild(statusDiv);
                })
                .catch(error => {
                    const statusDiv = document.createElement('div');
                    statusDiv.className = 'status error';
                    statusDiv.innerHTML = `‚ùå <strong>${url}</strong> - ERRO DE REDE`;
                    fileTestsDiv.appendChild(statusDiv);
                    addLog(`Erro de rede ao carregar ${url}: ${error.message}`, 'error');
                });
        }

        // Testar todos os ficheiros
        addLog('Iniciando testes de ficheiros...');
        Promise.all(filesToTest.map(testFile))
            .then(() => {
                addLog('Testes de ficheiros conclu√≠dos');
            });

        // Informa√ß√µes adicionais
        addLog(`Plataforma detectada: ${navigator.platform}`);
        addLog(`User Agent: ${navigator.userAgent}`);
        addLog(`Idioma: ${navigator.language}`);
    </script>
</body>
</html> 